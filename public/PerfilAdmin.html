<!doctype html>
<html lang="es">

<head>
  <link href="PerfilUsuario.css" rel="stylesheet" type="text/css" />
  <title>Grupo + Limpio</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Enlaces de Bootstrap y jQuery -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <!-- Otros enlaces -->
  <link rel="stylesheet" href="menu.css">
  <link rel="stylesheet" href="carrusel.css">
  <link rel="stylesheet" href="cards.css">
  <link rel="stylesheet" href="footer.css">
  <link rel="stylesheet" href="destacados.css">
  <link rel="stylesheet" href="marcas.css">
  <link rel="stylesheet" href="info.css">
  <link rel="stylesheet" href="btn.css">
  <link rel="stylesheet" href="catalago.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <!-- FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&display=swap"
    rel="stylesheet">
  <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>
  <link rel="icon" href="img/logo1.png">
</head>


<body onload="CargarDatos()">
  <div id="loader" class="loader">
    <div class="spinner"></div>
  </div>
  <header class="bg-white">
    <nav class="flex justify-between items-center w-[92%]  mx-auto">
      <div>
        <a href="index.html">
          <img class="w-32 cursor-pointer" src="img/logo.png" alt="Logo">
        </a>
      </div>
      <div
        class="nav-links duration-500 md:static absolute bg-white md:min-h-fit min-h-[60vh] left-0 top-[-100%] md:w-auto w-full flex items-center px-5">
        <ul class="flex md:flex-row flex-col md:items-center md:gap-[4vw] gap-8">
          <li>
            <a class="menu-link" href="index.html">Inicio</a>
          </li>
          <li>
            <a class="menu-link" href="catalogo.html">Catálogo</a>
          </li>
          <li>
            <a class="menu-link" href="servicios.html">Servicios</a>
          </li>
          <li>
            <a class="menu-link" href="about.html">Sobre Nosotros</a>
          </li>
          <li>
            <a class="menu-link" href="#" onclick="mostrarCarrito()">
              <ion-icon name="cart" class="text-black text-xl"></ion-icon>Carrito
              <span id="cantidadCarrito" class="badge badge-danger ml-1">0</span>
            </a>
          </li>

          <li class="search-container">
            <form action="catalogo.html" method="get">
              <input name="nombre" class="search-bar" type="text" placeholder="Buscar...">
              <button type="submit" class="search-button"><ion-icon name="search"
                  class="search-icon"></ion-icon></button>
            </form>
            <script>document.querySelector('form').addEventListener('submit', function (event) {
                event.preventDefault(); // Prevenir la recarga de la página
                var busqueda = document.querySelector('.search-bar').value;

                // Redirigir al usuario a catalogo.html con la búsqueda como parámetro de la URL
                window.location.href = 'catalogo.html?nombre=' + encodeURIComponent(busqueda);
              });
            </script>
          </li>
        </ul>
      </div>
      <div class="flex items-center gap-6">
        <a class="bg-[#23c01e] text-white px-5 py-2 rounded-full hover:bg-[#1abc9c]" href="main.html">Iniciar Sesion</a>
        <ion-icon onclick="onToggleMenu(this)" name="menu" class="text-3xl cursor-pointer md:hidden"></ion-icon>
      </div>
    </nav>
  </header>


  <main>
    <section>
      <div>
        <nav class="my-submenu-nav">
          <a href="catalogo.html?categoria=Baños">Baños</a>
          <a href="catalogo.html?categoria=Lavandería">Lavandería</a>
          <a href="catalogo.html?categoria=Herramientas de limpieza">Herramientas de Limpieza</a>
          <a href="catalogo.html?categoria=Bioseguridad">Bioseguridad</a>
          <a href="catalogo.html?categoria=Desinfectante">Desinfectante</a>
          <a href="catalogo.html?categoria=Cuidado Personal">Cuidado Personal</a>
          <a href="catalogo.html?categoria=Productos Plásticos">Productos Plásticos</a>
          <div class="animation start-home"></div>
        </nav>
      </div>

    </section>
    <section>
      <div class="PUDiv">
        <div class="TituloDiv">
          <img src="./imagenusario.png" class="ImgU" alt="imagen" />
          <span class="Titulo">Perfil de Cliente</span>
        </div>
        <div>
          <div id="ContenidoPU" class="ConPU">
            <nav>
              <div class="navpu" id="nav-tab" role="tablist">
                <button class="btnIP" id="navbtnIP" data-bs-toggle="tab" data-bs-target="#nav-home" type="button"
                  role="tab" aria-controls="nav-IP" aria-selected="true">Informacion Personal</button>
                <button class="btnLO" id="navbtnLO" data-bs-toggle="tab" data-bs-target="#nav-disabled" type="button"
                  role="tab" aria-controls="nav-S" aria-selected="false">Cerrar Sesion</button>
              </div>
            </nav>
            <div id="IDDivIP" class="DivIP">
              <link href="InfoPersonal.css" rel="stylesheet" type="text/css" />
              <div class="SubDivIp2">
                <span>Informacion de Admin</span>
              </div>
              <div class="SubDivIp">
                <span>Nombre</span>
                <span></span>
                <span></span>
              </div>
              <div class="SubDivIp3">
                <input id="NombreInput" class="InputIP" type="text" style="opacity: 0.5;" disabaled />
                <span></span>
                <span></span>
              </div>
              <div class="SubDivIp">
                <span>Correo Electronico</span>
                <span>Tipo</span>
                <span></span>
              </div>
              <div class="SubDivIp3">
                <input id="CorreoInput" class="InputIP" placeholder="ejemplo@correo.com" type="text"
                  style="opacity: 0.5;" disabled />
                <input id="TelefonoInput" class="InputIP" type="text" style="opacity: 0.5;" disabled />
                <span></span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <section>
        <button id="scrollToTopBtn" onclick="scrollToTop()">
          <i class="fa fa-arrow-up"></i>
        </button>
      </section>
    </section>

    <script>
      //Talvez todo el script va eliminado
    </script>


  </main>

  <footer>
    <section class="footer">
      <div class="footer-row">
        <div class="footer-col">
          <h4>Conocenos</h4>
          <ul class="links">
            <li><a href="#">Acerca de Nosotros</a></li>
            <li><a href="#">Historia</a></li>
            <li><a href="#">Marcas</a></li>
            <li><a href="#">Catálogo en línea</a></li>
            <li><a href="#">Promociones</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Preguntas </h4>
          <ul class="links">
            <li><a href="#">Formas de pago</a></li>
            <li><a href="#">Productos nuevos</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Legal</h4>
          <ul class="links">
            <li><a href="#">Politicas de seguridad</a></li>
            <li><a href="#">Envios</a></li>
            <li><a href="#">Pagos</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Contacto</h4>
          <p>
            Suscribete a nuestro boletín de Promociones
            y recibe la información a través de tu
            correo electrónico.
          </p>
          <form action="#">
            <input type="text" placeholder="Ingrese su Email" required>
            <button type="submit">Enviar</button>
          </form>
          <div class="icons">
            <a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.tiktok.com" target="_blank"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.whatsapp.com" target="_blank"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-row" style="display: flex; align-items: center; justify-content: center;">
        <div class="footer-col" style="text-align: center; margin-top: 20px; color: #fff;">
          Derechos reservados © 2023 | Grupo + Limpio
        </div>
      </div>
    </section>
  </footer>

  <script>
    const getBtnLO = document.getElementById('navbtnLO');
    const getNombre = document.getElementById("NombreInput");
    const getApellido = document.getElementById("ApellidoInput");
    const getCorreo = document.getElementById("CorreoInput");
    const getTelefono = document.getElementById("TelefonoInput");
    const getNacimiento = document.getElementById("NacimientoInput");
    const getId = document.getElementById("IdentidadInput");
    const getGenero = document.getElementById("GeneroSelect");
    const getCiudad = document.getElementById("CiudadInput");
    const getDireccion = document.getElementById("DireccionInput");
    const getNuevaContra = document.getElementById("C2Input");

    getBtnLO.addEventListener('click', CerrarSesion);

    const baseUrl = 'https://grupolimpio-api.onrender.com';

    function CerrarSesion() {
      fetch(baseUrl + '/logOut', {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        },
      })
        .then(response => response.json())
        .then(data => {
          if (data.msg == "log out") {
            alert('Se ha cerrrado sesion');
            window.location.href = "index.html";
          } else {

          }
        })
        .catch(error => {
          alert('No se ha podido cerrar sesion');
        });
    }

    function CargarDatos() {
      fetch(baseUrl + '/CargarPerfilAdmin', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ id: localStorage["correo"] }),
      })
        .then(response => response.json())
        .then(data => {
          getNombre.value = data.nombre;
          getCorreo.value = data.correo;
          getTelefono.value = data.tipo;
        })
        .catch(error => {
          alert('No han podido cargar los datos de su cuenta' + error);
        });
    }
  </script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script>
  <script src="menu.js"></script>
  <script src="carrusel.js"></script>
  <script src="menu.js"></script>
  <script src="destacados.js"></script>
  <script src="btn.js"></script>
  <script src="catalago.js"></script>
</body>
</body>

</html>